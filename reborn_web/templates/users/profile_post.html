{% extends "users/main_base.html" %}
{% load humanize %}

{% block contents %}
<br><br>
<div class="container">
    {% if notice_list %}
    <div>
        <h5><strong><i class="fas fa-edit"></i>&nbsp;공지사항 작성한 글</strong></h5>
        <table class="table table-hover">
            <tr class="text-center">
                <th>번호</th>
                <th>제목</th>
                <th>작성자</th>
                <th>등록일</th>
                <th>조회수</th>
            </tr>
            {% for notice in notice_list %}
            <tr class="text-center" style="font-weight: bold; cursor:pointer;" onclick="location.href='/notice/{{ notice.id }}/'">
                <td>{{ notice.id }}</td>
                <td class="text-left" style="width:50%">
                    <a id="notice-{{ notice.id }}">{{ notice.title|truncatechars:30 }}</a></td>
                <td>{{ notice.writer }}</td>
                <td>{{ notice.registered_date|date:'Y. m. d' }}</td>
                <td>{{ notice.hits }}</td>
            </tr>
            {% endfor %}
        </table>
    </div>
    <br>
    {% endif %}
    <div>
        <h5><strong><i class="fas fa-edit"></i>&nbsp;자유게시판 작성한 글</strong></h5>
        <table class="table table-hover">
            <tr class="text-center">
                <th>번호</th>
                <th>제목</th>
                <th>작성자</th>
                <th>등록일</th>
                <th>조회수</th>
            </tr>
            {% for free in free_list %}
            <tr class="text-center" style="font-weight: bold; cursor:pointer;" onclick="location.href='/free/{{ free.id }}/'">
                <td>{{ free.id }}</td>
                <td class="text-left" style="width:50%">
                    {% if free.category == '자유' %}
                    <span class="badge badge-secondary">{{ free.category }}</span>&nbsp;
                    {% elif free.category == '질문' %}
                    <span class="badge badge-danger">{{ free.category }}</span>&nbsp;
                    {% elif free.category == '정보' %}
                    <span class="badge badge-info">{{ free.category }}</span>&nbsp;
                    {% endif %}
                    <!-- <a id="free-{{ free.id }}" href="/free/{{ free.id }}/">{{ free.title|truncatechars:30 }}</a> -->
                    <a id="free-{{ free.id }}">{{ free.title|truncatechars:30 }}</a>
                    {% if free.comments %}
                    &nbsp;<span style="color:gray;">[{{ free.comments }}]</span>
                    {% endif %}
                    </td>
                <td>{{ free.writer }}</td>
                {% if free.created_string == False %}
                <td>{{ free.registered_date|date:'m월 d일' }}</td>
                {% else %}
                <td>{{ free.created_string }}</td>
                {% endif %}
                <td>{{ free.hits }}</td>
            </tr>
            {% endfor %}
        </table>
    </div>
    <br>
    <div>
        <h5><strong><i class="fas fa-edit"></i>&nbsp;익명게시판 작성한 글</strong></h5>
        <table class="table table-hover">
            <tr class="text-center">
                <th>번호</th>
                <th>제목</th>
                <th>등록일</th>
                <th>추천수</th>
                <th>댓글수</th>
            </tr>
            {% for anonymous in anonymous_list %}
            <tr class="text-center" style="font-weight: bold; cursor:pointer;" onclick="location.href='/anonymous/{{ anonymous.id }}/'">
                <td>{{ anonymous.id }}</td>
                <td class="text-left" style="width:50%">
                    <a id="anonymous-{{ anonymous.id }}">{{ anonymous.title|truncatechars:30 }}</a>
                </td>
                {% if anonymous.created_string == False %}
                <td>{{ anonymous.registered_date|date:'m월 d일' }}</td>
                {% else %}
                <td>{{ anonymous.created_string }}</td>
                {% endif %}
                <td>{{ anonymous.like_count }}</td>
                <td>{{ anonymous.comments }}</td>
            </tr>
            {% endfor %}
        </table>
    </div>   
</div>

{% endblock %}