{% extends "users/base.html" %}
{% load humanize %}

{% block contents %}
<div class="row mt-5">
    <div class="col-12 text-center">
        <h1>공지사항 TEST PAGE</h1>
    </div> 
</div>
<br>
<div class="container">
    <table class="table table-hover">
        <tr class="text-center">
            <th>번호</th>
            <th>제목</th>
            <th>작성자</th>
            <th>등록일</th>
            <th>조회수</th>
        </tr>

        {% for notice in notice_list %}
        <tr class="text-center">
            <td>{{ notice.id }}</td>
            <td class="text-left" style="width:50%"><a id="notice-{{ notice.id }}" href="/notice/{{ notice.id }}/">{{ notice.title }}</a></tdclass="col-sm-1">
            <td>{{ notice.writer }}</td>
            <td>{{ notice.registered_date|date:'Y-m-d' }}</td>
            <td>{{ notice.hits }}</tdclass="col-sm-1">
        </tr>
        {% endfor %}

    </table>
</div>
<br>
    
<div class="col">
    <div style="float: right;" class="form-row" action="" method="get">
        <div class="form-row">
            <div class="col">
                <select style="width: 5em;" class="custom-select custom-select-md" name="search" id="">
                    <option>전체</option>
                    <option value="title">제목</option>
                    <option value="content">내용</option>
                    <option value="writer">작성자</option>
                </select>
            </div>
            <div class="col">
                <input style="width: 13em;" class="form-control form-control-md" type="text" name="search_keyword" id="search">
            </div>
            <div class="col">
                <button class="btn btn-md btn-outline-dark" type="submit">검색</button>
            </div>
        </div>
    </form>
</div>

<div>
    <button class="btn btn-md btn-dark" onclick="location.href='/notice/new/'">글쓰기</button>
</div>

<div class="col-md-offset-6">
    {% if is_paginated %}
    <!-- <ul class="pagination justify-content-center pagination-sm"> -->
    <ul class="pagination justify-content-center">
        {% if page_obj.has_previous %}
        <li class="page-item">
            <a class="page-link" href="?page={{ page_obj.previous_page_number }}"
                tabindex="-1">&laquo;</a>
        </li>
        {% else %}
        <li class="page-item disabled">
            <a class="page-link" href="#" tabindex="-1">&laquo;</a>
        </li>
        {% endif %}

        {% for object in page_obj.paginator.page_range %}
        <li class="page-item {% if page_obj.number == forloop.counter %} disabled {% endif %} ">
            <a class="page-link" href="{{ request.path }}?page={{ forloop.counter }}">{{ forloop.counter }}</a>
        </li>
        {% endfor %}

        {% if page_obj.has_next %}
        <li class="page-item">
            <a class="page-link" href="?page={{ page_obj.next_page_number }}">&raquo;</a>
        </li>
        {% else %}
        <li class="page-item disabled">
            <a class="page-link" href="#">&raquo;</a>
        </li>
        {% endif %}
    </ul>
    {% endif %}
</div>

{% endblock %}